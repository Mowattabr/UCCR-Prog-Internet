<!DOCTYPE html>
<html>
<head>
    <title>Table Structure Check</title>
</head>
<body>
    <h1>Check Table Structure</h1>
    <button onclick="checkTable()">Check lista_usuarios Table</button>
    <div id="result"></div>

    <script>
        async function checkTable() {
            try {
                // Try to get table structure
                const response = await fetch('https://qjtojggjtouvgljlozwr.supabase.co/rest/v1/lista_usuarios?limit=0', {
                    method: 'GET',
                    headers: {
                        'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqdG9qZ2dqdG91dmdsamxvendyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MzAwMjAsImV4cCI6MjA3MDEwNjAyMH0.z1ggcCP5SbU3jvAOXmo8yD22fRBctQt7LI71LZTR7YM',
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqdG9qZ2dqdG91dmdsamxvendyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MzAwMjAsImV4cCI6MjA3MDEwNjAyMH0.z1ggcCP5SbU3jvAOXmo8yD22fRBctQt7LI71LZTR7YM',
                        'Accept': 'application/json'
                    }
                });

                const headers = {};
                for (let [key, value] of response.headers.entries()) {
                    headers[key] = value;
                }

                const result = await response.text();
                
                document.getElementById('result').innerHTML = `
                    <h3>Response Status: ${response.status}</h3>
                    <h3>Headers:</h3>
                    <pre>${JSON.stringify(headers, null, 2)}</pre>
                    <h3>Response Body:</h3>
                    <pre>${result}</pre>
                `;

                console.log('Table check result:', result);
                console.log('Headers:', headers);
                
            } catch (error) {
                document.getElementById('result').innerHTML = `
                    <h3>Error:</h3>
                    <pre>${error.message}</pre>
                `;
            }
        }
    </script>
</body>
</html>
