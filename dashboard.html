<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Galaxia Magna Academy</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
  <div style="position: absolute; top: 20px; right: 30px; z-index: 1000;">
    <a href="profile.html" style="color:#f18b32; text-decoration:underline; background:none; padding:0;" id="btnProfileTop">Perfil</a>
  </div>
  <header>
    <img src="images/GAM_transparent.png" alt="Galaxia Magna Academy Logo" style="width: 80px; height: 80px; object-fit: contain;">
    <div class="header-text">
      <h1>Galaxia Magna Academy</h1>
      <h2>Sapientia per Stellam</h2>
      <div id="dashboard-links" style="margin-top:18px; text-align:center;">
        <nav id="admin-nav" style="display:none;">
          <ul style="display:inline-flex; gap:18px; list-style:none; margin:0; padding:0;">
            <li id="admin-link-students"><a href="admin_tools_students.html" style="color:#2563eb; text-decoration:underline; background:none; padding:0;"><i class="fas fa-users" style="margin-right:6px;color:#f18b32;"></i>Estudiantes</a></li>
            <li id="admin-link-professors"><a href="admin_tools_professors.html" style="color:#2563eb; text-decoration:underline; background:none; padding:0;"><i class="fas fa-chalkboard-teacher" style="margin-right:6px;color:#f18b32;"></i>Profesores</a></li>
            <li id="admin-link-admins"><a href="admin_tools_admins.html" style="color:#2563eb; text-decoration:underline; background:none; padding:0;"><i class="fas fa-user-shield" style="margin-right:6px;color:#f18b32;"></i>Administradores</a></li>
            <li id="admin-link-inactivos"><a href="admin_tools_inactive_users.html" style="color:#f18b32; text-decoration:underline; background:none; padding:0;"><i class="fas fa-user-slash" style="margin-right:6px;color:#2563eb;"></i>Inactivos</a></li>
          </ul>
        </nav>
      </div>
    </div>
    <img src="images/GAM_transparent.png" alt="GMA Logo" style="width: 80px; height: 80px; object-fit: contain;">
  </header>
  <main>
    <section style="max-width: 400px; margin: 40px auto; background: #23232b; border-radius: 10px; padding: 24px; box-shadow: 0 4px 16px rgba(0,0,0,0.2); border: 1px solid #f18b32;">
      <div class="profile-info">
        <!-- Name Field -->
        <div class="profile-field" style="margin-bottom: 12px; padding: 10px; background: #2d2d35; border-radius: 6px; position: relative;">
          <label style="color: #f18b32; font-weight: bold; display: block; margin-bottom: 4px; font-size: 0.95em;">
            <i class="fas fa-user" style="margin-right: 6px; font-size: 1em;"></i>Usuario
          </label>
          <span id="dashboard-name" style="color: #fff; font-size: 1em;">Cargando...</span>
        </div>
        <!-- Rol Field -->
        <div class="profile-field" style="margin-bottom: 12px; padding: 10px; background: #2d2d35; border-radius: 6px; position: relative;">
          <label style="color: #f18b32; font-weight: bold; display: block; margin-bottom: 4px; font-size: 0.95em;">
            <i class="fas fa-user-tag" style="margin-right: 6px; font-size: 1em;"></i>Rol
          </label>
          <span id="dashboard-rol" style="color: #fff; font-size: 1em;">Cargando...</span>
        </div>
        <!-- C贸digo Field -->
        <div class="profile-field" style="margin-bottom: 0; padding: 10px; background: #2d2d35; border-radius: 6px; position: relative;">
          <label style="color: #f18b32; font-weight: bold; display: block; margin-bottom: 4px; font-size: 0.95em;">
            <i class="fas fa-id-badge" style="margin-right: 6px; font-size: 1em;"></i>C贸digo
          </label>
          <span id="dashboard-codigo" style="color: #fff; font-size: 1em;">Cargando...</span>
        </div>
      </div>
    </section>
    <a href="#" id="logout-link" style="color:#ef4444; text-decoration:underline; background:none; padding:0; margin-left:18px; font-weight:bold;">Cerrar sesi贸n</a>
  </main>
  <footer></footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="config.js"></script>
  <script src="scripts.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var user = JSON.parse(localStorage.getItem('uccr_user') || '{}');
      document.getElementById('dashboard-name').textContent = user.username || '(nombre)';
      document.getElementById('dashboard-rol').textContent = user.rol || '(rol)';
      document.getElementById('dashboard-codigo').textContent = user.codigo_usuario || '(c贸digo)';
      if (user.rol === 'administrador') {
        document.getElementById('admin-nav').style.display = '';
      }
    });
    document.getElementById('logout-link').onclick = function() {
      localStorage.removeItem('uccr_user');
      window.location.href = 'index.html';
    };
  </script>
</body>
</html>
