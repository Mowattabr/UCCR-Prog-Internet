<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shared Web Page</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

  <!--
    HEADER (Encabezado):
    Aquí va el título principal de la página. Sirve para que el usuario sepa dónde está y da identidad al sitio.
    Puedes poner el nombre de la plataforma, el logo o ambos.
  -->
  <header style="display: flex; align-items: center; justify-content: center; gap: 20px; padding: 20px;">
    <img src="images/GAM_transparent.png" alt="Galaxia Magna Academy Logo" style="width: 80px; height: 80px; object-fit: contain;">
    <div style="text-align: center;">
      <h1 style="color: #C0C0C0; margin-bottom: 5px; margin-top: 0;">Galaxia Magna Academy</h1>
      <h2 style="font-style: italic; font-weight: normal; font-size: 1.8em; margin-top: 0; color: #C0C0C0; margin-bottom: 0;">Sapientia per Stellam</h2>
    </div>
    <img src="images/GAM_transparent.png" alt="GMA Logo" style="width: 80px; height: 80px; object-fit: contain;">
  </header>

  <main>
    <section>
      <!--
        FORMULARIO PRINCIPAL:
        Aquí el usuario puede iniciar sesión rápidamente.
      -->

      <form id="login-form">

        <!--
          MENSAJE DE SALUDO (Greeting):
          Este div se muestra arriba del fieldset de Login rápido cuando el usuario inicia sesión.
        -->

        <div id="login-rapido-wrapper">
          <div id="login-msg" style="display:none; font-weight:bold; color:#22c55e; margin-bottom:12px;"></div>
          
          <!-- Navigation moved here to align with Login section -->
          <nav style="margin-bottom: 20px;">
            <ul>
              <li><a href="index.html">Inicio</a></li> <!-- Enlace a la página de inicio -->
              <li class="nav-privado" style="display:none;"><a href="#cursos">Cursos</a></li>      <!-- Enlace a la sección de cursos -->
              <li class="nav-privado" style="display:none;"><a href="#estudiantes">Estudiantes</a></li>      <!-- Enlace a la sección de estudiantes -->
              <li class="nav-privado" style="display:none;"><a href="#profesores">Profesores</a></li>      <!-- Enlace a la sección de profesores -->
              <li><a href="#">Contacto</a></li>    <!-- Enlace a la sección de contacto -->
              <li><a href="#ayuda">Ayuda</a></li>       <!-- Enlace a la sección de ayuda -->
            </ul>
          </nav>
          
          <!--
            FIELDSET DE LOGIN RÁPIDO:
            Permite a los usuarios iniciar sesión rápidamente sin llenar el formulario completo de registro.
          -->
          <fieldset style="margin-bottom: 24px;">
            <legend>Login rápido</legend>
            <div class="row">
              <div class="col-12">
                <div class="mb-3">
                  <label for="login-username" class="form-label">Nombre de usuario:</label>
                  <input class="form-control" type="text" id="login-username" name="login-username" autocomplete="username">
                </div>
                <div class="mb-3">
                  <label for="login-password" class="form-label">Contraseña:</label>
                  <input class="form-control" type="password" id="login-password" name="login-password" autocomplete="current-password">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                  <button type="button" class="btn btn-primary me-md-2" onclick="iniciarSesion()">Iniciar sesión</button>
                  <a href="registro.html" class="btn" style="background:#f18b32; color:#fff; text-decoration: none;">Formulario de registro</a>
                </div>
              </div>
            </div>
          </fieldset>
        </div>

      </form>

      
    </section>

    <!-- Página de Ayuda como subpágina -->
    <section id="ayuda" style="display:none; padding:40px 20px; max-width:600px; margin:40px auto; background:#23232b; border-radius:12px; box-shadow:0 4px 24px #0008; color:#fff;">
      <h2 style="color:#f18b32; margin-bottom:18px;">Ayuda</h2>
      <p>Esta es una <b>página de prueba</b> que emula el registro para la Universidad Central de Costa Rica (UCCR).</p>
      <p>No ingreses datos personales reales, ya que esta página es solo para fines de demostración.</p>
      <p>Si tienes dudas o necesitas ayuda, puedes contactar a <b>Allan VillaLobos</b>.</p>
      <button id="cerrar-ayuda" style="margin-top:24px; padding:10px 30px; border-radius:8px; background:#2563eb; color:#fff; border:none; font-weight:bold; cursor:pointer;">Cerrar</button>
    </section>

    <!-- Página de Cursos como subpágina -->
    <section id="cursos" style="display:none; padding:40px 20px; max-width:900px; margin:40px auto; background:#23232b; border-radius:12px; box-shadow:0 4px 24px #0008; color:#fff;">
      <h2 style="color:#f18b32; margin-bottom:18px;">Cursos</h2>
      <div style="display:flex; justify-content:center;">
        <table class="tabla-cursos" >
          <thead>
            <tr style="background:#1e293b; color:#f18b32;">
              <th class="cuatrimestre">Cuatrimestre</th>
              <th class="curso">Curso</th>
            </tr>
          </thead>
          <tbody>
            <tr><td class="cuatrimestre">I</td><td class="curso">Inglés I</td></tr>
            <tr><td class="cuatrimestre">I</td><td class="curso">Matemática I</td></tr>
            <tr><td class="cuatrimestre">I</td><td class="curso">Introducción a la Informática</td></tr>
            <tr><td class="cuatrimestre">I</td><td class="curso">Comunicación</td></tr>
            <tr><td class="cuatrimestre">II</td><td class="curso">Administración I</td></tr>
            <tr><td class="cuatrimestre">II</td><td class="curso">Contabilidad para Ingeniería</td></tr>
            <tr><td class="cuatrimestre">II</td><td class="curso">Inglés II</td></tr>
            <tr><td class="cuatrimestre">II</td><td class="curso">Programación de Cómputo I</td></tr>
            <tr><td class="cuatrimestre">III</td><td class="curso">Arquitectura de Computadoras</td></tr>
            <tr><td class="cuatrimestre">III</td><td class="curso">Programación Internet</td></tr>
            <tr><td class="cuatrimestre">III</td><td class="curso">Sistemas Computacionales (C)</td></tr>
            <tr><td class="cuatrimestre">III</td><td class="curso">Cálculo I</td></tr>
            <tr><td class="cuatrimestre">IV</td><td class="curso">Métodos Estadísticos I</td></tr>
            <tr><td class="cuatrimestre">IV</td><td class="curso">Finanzas para Ingeniería</td></tr>
            <tr><td class="cuatrimestre">IV</td><td class="curso">Estructura de Datos y Algoritmos</td></tr>
            <tr><td class="cuatrimestre">IV</td><td class="curso">Programación Computadoras II (Visual Basic)</td></tr>
            <tr><td class="cuatrimestre">V</td><td class="curso">Economía para Ingeniería</td></tr>
            <tr><td class="cuatrimestre">V</td><td class="curso">Organización de Archivos</td></tr>
            <tr><td class="cuatrimestre">V</td><td class="curso">Programación de Computadoras III (Visual Basic Avanzado)</td></tr>
            <tr><td class="cuatrimestre">V</td><td class="curso">Sistemas Operativos I</td></tr>
            <tr><td class="cuatrimestre">VI</td><td class="curso">Diseño y Optimización de Base de Datos</td></tr>
            <tr><td class="cuatrimestre">VI</td><td class="curso">Análisis y Diseño de Sistemas I</td></tr>
            <tr><td class="cuatrimestre">VI</td><td class="curso">Telemática</td></tr>
            <tr><td class="cuatrimestre">VI</td><td class="curso">Administración de Proyectos</td></tr>
            <tr><td class="cuatrimestre">VII</td><td class="curso">Análisis y Diseño de Sistemas II</td></tr>
            <tr><td class="cuatrimestre">VII</td><td class="curso">Investigación de Operaciones I</td></tr>
            <tr><td class="cuatrimestre">VII</td><td class="curso">Administración de Centros de Cómputo</td></tr>
            <tr><td class="cuatrimestre">VII</td><td class="curso">Telemática II</td></tr>
            <tr><td class="cuatrimestre">VIII</td><td class="curso">Investigación de Operaciones II</td></tr>
            <tr><td class="cuatrimestre">VIII</td><td class="curso">Auditoría de Sistemas Computacionales</td></tr>
            <tr><td class="cuatrimestre">VIII</td><td class="curso">Programación de Lenguaje de 4ta Generación</td></tr>
            <tr><td class="cuatrimestre">VIII</td><td class="curso">Seminario de Graduación</td></tr>
          </tbody>
        </table>
      </div>
      <button id="cerrar-cursos" style="margin-top:24px; padding:10px 30px; border-radius:8px; background:#2563eb; color:#fff; border:none; font-weight:bold; cursor:pointer;">Cerrar</button>
    </section>

    <!-- Página de Estudiantes como subpágina -->
    <section id="estudiantes" style="display:none; padding:40px 20px; max-width:700px; margin:40px auto; background:#23232b; border-radius:12px; box-shadow:0 4px 24px #0008; color:#fff;">
      <h2 style="color:#f18b32; margin-bottom:18px;">Estudiantes</h2>
      <table class="tabla-separada" >
        <thead>
          <tr style="background:#1e293b; color:#f18b32;">
            <th>Nombre</th>
            <th class="descripcion">Descripción</th>
            <th class="materia">Materia</th>
            <th>Profesor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><b>R2-D2</b></td><td class="descripcion">Especialista en interfaces y circuitos desde hace galaxias</td><td class="materia">Arquitectura de Computadoras</td><td>Dr. Gordon Moore</td>
          </tr>
          <tr>
            <td><b>Neo (Matrix)</b></td><td class="descripcion">Puede manipular la realidad, pero todavía batalla con los for loops</td><td class="materia">Programación de Cómputo I/II/III</td><td>Dra. Ada Lovelace</td>
          </tr>
          <tr>
            <td><b>Data (Star Trek)</b></td><td class="descripcion">Busca comprender la eficiencia de estructuras recursivas</td><td class="materia">Estructura de Datos y Algoritmos</td><td>MSc. Donald Knuth</td>
          </tr>
          <tr>
            <td><b>Tron</b></td><td class="descripcion">Salido de la red, desea entender cómo se ejecutan procesos en SO reales</td><td class="materia">Sistemas Operativos</td><td>MSc. Grace Hopper</td>
          </tr>
          <tr>
            <td><b>Miles Morales (Spider-Man)</b></td><td class="descripcion">Estudiante de STEM que crea su propia página en HTML para su traje</td><td class="materia">Programación Internet / Telemática</td><td>Dr. Tim Berners-Lee</td>
          </tr>
          <tr>
            <td><b>Megamind</b></td><td class="descripcion">Le encantan las matemáticas... si son para conquistar el mundo</td><td class="materia">Matemática / Cálculo / Estadística</td><td>MSc. Katherine Johnson</td>
          </tr>
          <tr>
            <td><b>Bruce Banner (Hulk)</b></td><td class="descripcion">Calcula riesgos financieros... antes de enojarse</td><td class="materia">Marketing Digital / Finanzas</td><td>Lic. Philip Kotler</td>
          </tr>
          <tr>
            <td><b>T-800 (Terminator)</b></td><td class="descripcion">Necesita aprender organización de datos humanos para su próxima misión</td><td class="materia">Organización de Archivos / Administración TI</td><td>Dr. Alan Turing</td>
          </tr>
          <tr>
            <td><b>Gwen Stacy (Spider-Gwen)</b></td><td class="descripcion">Diseñadora web y activista, domina GitHub como su telaraña</td><td class="materia">Programación Internet</td><td>Fabián Chinchilla Mayorga</td>
          </tr>
          <tr>
            <td><b>Cortana (Halo)</b></td><td class="descripcion">Quiere mejorar su capacidad de planificación de misiones complejas</td><td class="materia">Análisis y Diseño de Sistemas</td><td>Dra. Margaret Hamilton</td>
          </tr>
        </tbody>
      </table>
      <button id="cerrar-estudiantes" style="margin-top:24px; padding:10px 30px; border-radius:8px; background:#2563eb; color:#fff; border:none; font-weight:bold; cursor:pointer;">Cerrar</button>
    </section>

    <!-- Página de Profesores como subpágina -->
    <section id="profesores" style="display:none; padding:40px 20px; max-width:700px; margin:40px auto; background:#23232b; border-radius:12px; box-shadow:0 4px 24px #0008; color:#fff;">
      <h2 style="color:#f18b32; margin-bottom:18px;">Profesores</h2>
      <table class="tabla-separada" >
        <thead>
          <tr style="background:#1e293b; color:#f18b32;">
            <th>Nombre</th>
            <th class="descripcion">Descripción</th>
            <th class="materia">Materia</th>
          </tr>
        </thead>
        <tbody id="profesores-tbody">
          <!-- Filas de profesores se llenan por JS -->
        </tbody>
      </table>
      <button id="cerrar-profesores" style="margin-top:24px; padding:10px 30px; border-radius:8px; background:#2563eb; color:#fff; border:none; font-weight:bold; cursor:pointer;">Cerrar</button>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!--
    PODCASTS EDUCATIVOS:
    Sección final con dos podcasts recomendados para aprender más sobre HTML y CSS.
    Los videos se muestran uno al lado del otro usando flexbox.
  -->
  <section class="podcasts-educativos">
    <h2>Aprende más con nuestros Podcasts</h2>
    <div class="podcast-videos">
      <div class="podcast-item">
        <iframe width="480" height="270" src="https://www.youtube.com/embed/UVfJnSb844c" title="HTML e CSS para Principiantes – Explicado com Analogias (Portugués)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <p>HTML e CSS para Principiantes – Explicado com Analogias (Portugués)</p>
      </div>
      <div class="podcast-item">
        <iframe width="480" height="270" src="https://www.youtube.com/embed/4kIwc6nm5rg" title="HTML y CSS para Principiantes – Explicado con Analogías (Español)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <p>HTML y CSS para Principiantes – Explicado con Analogías (Español)</p>
      </div>
    </div>
  </section>
  </main>

  <footer>
  </footer>

  <!--
    Caja informativa:
    Este bloque invita a los usuarios a aprender más de HTML. El enlace lleva a W3Schools, un sitio recomendado para principiantes.
    TIP: Usa recursos externos para complementar tu aprendizaje.
  -->
  <div style="margin: 40px auto 20px auto; max-width: 500px; background: #23232b; border-radius: 12px; border: 2px solid #6366f1; padding: 24px; text-align: center; box-shadow: 0 2px 12px rgba(0,0,0,0.15);">
    <h2 style="color: #a5b4fc; margin-bottom: 12px;">¿Quieres aprender más de HTML?</h2>
    <p style="color: #f3f4f6; margin-bottom: 16px;">
      Visita el siguiente recurso recomendado para profundizar tus conocimientos:
    </p>
    <a href="https://www.w3schools.com/html/default.asp" 
       target="_blank" 
       style="display: inline-block; background: #2563eb; color: #fff; padding: 10px 28px; border-radius: 8px; font-weight: bold; text-decoration: none; transition: background 0.2s;">
      Aprende más de HTML en W3Schools
    </a>
  </div>

  <script src="script.js"></script>
  
  <script>
    // Función para iniciar sesión usando Vercel backend
    function iniciarSesion() {
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;
      const loginMsg = document.getElementById('login-msg');
      
      // Validar que los campos no estén vacíos
      if (!username || !password) {
        mostrarMensaje('Por favor, ingresa usuario y contraseña.', 'error');
        return;
      }
      
      // Mostrar mensaje de carga
      mostrarMensaje('Verificando credenciales...', 'info');
      
      // Crear datos para enviar
      const formData = new FormData();
      formData.append('login-username', username);
      formData.append('login-password', password);
      formData.append('action', 'login');
      
      // Enviar a Vercel backend
      fetch('https://backend-kt0bm09wc-mowattabrs-projects.vercel.app/api/index.php', {
        method: 'POST',
        body: formData
      })
      .then(response => response.text())
      .then(data => {
        console.log('Respuesta del servidor:', data);
        
        // Procesar respuesta del servidor
        if (data.includes('success') || data.includes('válido') || data.includes('correcto')) {
          mostrarMensaje('¡Inicio de sesión exitoso! Bienvenido, ' + username, 'success');
          mostrarNavegacionPrivada();
        } else {
          mostrarMensaje('Usuario o contraseña incorrectos.', 'error');
        }
      })
      .catch(error => {
        console.error('Error al conectar con el servidor:', error);
        mostrarMensaje('Error de conexión. Verifica tu conexión a internet.', 'error');
      });
    }
    
    // Función para mostrar mensajes al usuario
    function mostrarMensaje(mensaje, tipo) {
      const loginMsg = document.getElementById('login-msg');
      loginMsg.textContent = mensaje;
      loginMsg.style.display = 'block';
      
      // Cambiar color según el tipo de mensaje
      switch(tipo) {
        case 'success':
          loginMsg.style.color = '#22c55e'; // Verde
          break;
        case 'error':
          loginMsg.style.color = '#ef4444'; // Rojo
          break;
        case 'info':
          loginMsg.style.color = '#3b82f6'; // Azul
          break;
        default:
          loginMsg.style.color = '#22c55e';
      }
    }
    
    // Función para mostrar navegación privada después del login
    function mostrarNavegacionPrivada() {
      const navPrivados = document.querySelectorAll('.nav-privado');
      navPrivados.forEach(nav => {
        nav.style.display = 'block';
      });
    }
    
    // Permitir login con Enter
    document.addEventListener('DOMContentLoaded', function() {
      const passwordField = document.getElementById('login-password');
      passwordField.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          iniciarSesion();
        }
      });
    });
  </script>
</body>
</html>